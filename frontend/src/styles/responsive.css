/* Global responsive baseline for all app routes */

html,
body,
#root {
  width: 100%;
  max-width: 100%;
  overflow-x: clip;
}

img,
svg,
video,
canvas {
  max-width: 100%;
}

/* Tablet */
@media (max-width: 1024px) {
  .grid-cols-3,
  .grid-cols-4 {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }
}

/* Mobile */
@media (max-width: 768px) {
  :root {
    --mobile-space: 12px;
    --mobile-section-space: 16px;
  }

  html {
    -webkit-text-size-adjust: 100%;
  }

  .desktop-only {
    display: none !important;
  }

  .grid-cols-2,
  .grid-cols-3,
  .grid-cols-4 {
    grid-template-columns: minmax(0, 1fr) !important;
  }

  /* Common inline-style layouts */
  [style*="display: flex"][style*="justify-content: space-between"] {
    flex-wrap: wrap;
    gap: var(--mobile-space);
  }

  [style*="display: grid"][style*="repeat(2"],
  [style*="display: grid"][style*="repeat(3"],
  [style*="display: grid"][style*="repeat(4"] {
    grid-template-columns: minmax(0, 1fr) !important;
  }

  [style*="maxWidth: '80rem'"],
  [style*='maxWidth: "80rem"'] {
    max-width: 100% !important;
  }

  [style*="padding: '24px'"],
  [style*='padding: "24px"'] {
    padding: 16px !important;
  }

  h1 {
    font-size: clamp(1.2rem, 6vw, 1.6rem) !important;
  }

  h2 {
    font-size: clamp(1.05rem, 5vw, 1.3rem) !important;
  }

  /* Keep wide content usable */
  table {
    display: block;
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    white-space: nowrap;
  }

  pre,
  code {
    overflow-x: auto;
    max-width: 100%;
  }

  /* Bottom fixed nav space */
  main {
    padding-bottom: calc(80px + env(safe-area-inset-bottom, 0px));
  }

  .mobile-bottom-nav {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }
}

/* Small mobile */
@media (max-width: 480px) {
  [style*="gap: '24px'"],
  [style*='gap: "24px"'],
  [style*="gap: '20px'"],
  [style*='gap: "20px"'] {
    gap: 10px !important;
  }

  [style*="gap: '16px'"],
  [style*='gap: "16px"'] {
    gap: 8px !important;
  }
}

/* Touch-friendly tap targets */
@media (hover: none) and (pointer: coarse) {
  button,
  a,
  [role="button"],
  input,
  select {
    min-height: 42px;
  }
}
